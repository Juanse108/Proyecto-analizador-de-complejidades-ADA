<div class="container">
  
  <!-- Encabezado -->
  <div class="header">
    <h1>ğŸš€ Analizador de Complejidad AlgorÃ­tmica</h1>
    <p>Convierte lenguaje natural a pseudocÃ³digo y analiza su complejidad temporal</p>
  </div>

  <!-- Contenido Principal -->
  <div class="main-content">
    
    <!-- SECCIÃ“N IZQUIERDA: Entrada en Lenguaje Natural -->
    <div class="section input-section">
      <h2>ğŸ“ Describe tu Algoritmo</h2>
      
      <div class="input-wrapper">
        <!-- Ãrea de Lenguaje Natural -->
        <textarea 
          class="textarea-input"
          [(ngModel)]="natLangInput" 
          rows="8"
          [disabled]="isGenerating"
          placeholder="Ejemplo: Ordena un array de nÃºmeros usando bubble sort, comparando elementos adyacentes e intercambiÃ¡ndolos si estÃ¡n en el orden incorrecto...">
        </textarea>

        <!-- BotÃ³n Generar -->
        <button 
          (click)="onGeneratePseudocode()" 
          [disabled]="isGenerating || !natLangInput.trim()"
          class="btn btn-primary">
          {{ isGenerating ? 'â³ Generando...' : 'âœ¨ Generar PseudocÃ³digo' }}
        </button>

        <!-- Mensaje de Error -->
        <div *ngIf="errorMsg" class="error-message">
          âŒ {{ errorMsg }}
        </div>
      </div>
    </div>

    <!-- SECCIÃ“N DERECHA: Salida de PseudocÃ³digo -->
    <div class="section output-section">
      <h2>âœ¨ PseudocÃ³digo Generado</h2>
      
      <div class="input-wrapper">
        <!-- Ãrea de PseudocÃ³digo Generado -->
        <textarea 
          class="pseudocode-output"
          [(ngModel)]="generatedPseudocode" 
          rows="8"
          readonly
          placeholder="El pseudocÃ³digo aparecerÃ¡ aquÃ­...">
        </textarea>

        <!-- Botones de AcciÃ³n -->
        <div class="output-header">
          <div class="output-actions">
            <button 
              (click)="copyToClipboard()"
              [disabled]="!generatedPseudocode"
              class="btn btn-secondary btn-sm">
              ğŸ“‹ Copiar
            </button>
            <button 
              (click)="clearGenerated()"
              [disabled]="!generatedPseudocode"
              class="btn btn-secondary btn-sm">
              ğŸ—‘ï¸ Limpiar
            </button>
          </div>
        </div>

        <!-- Advertencias -->
        <div *ngIf="issues && issues.length > 0" class="issues-container">
          <h3>âš ï¸ Advertencias</h3>
          <ul class="issues-list">
            <li *ngFor="let issue of issues" class="issue-item">{{ issue }}</li>
          </ul>
        </div>
      </div>
    </div>

  </div>

  <!-- SecciÃ³n de AnÃ¡lisis de Complejidad -->
  <div class="section" style="margin-top: 40px;">
    <h2>ğŸ” AnÃ¡lisis de Complejidad</h2>

    <div class="input-wrapper">
      <!-- Ãrea de PseudocÃ³digo para AnÃ¡lisis -->
      <textarea 
        class="textarea-input"
        [(ngModel)]="inputCode" 
        rows="10"
        placeholder="Escribe tu algoritmo aquÃ­ o usa el generado arriba...">
      </textarea>

      <!-- BotÃ³n de AnÃ¡lisis -->
      <button 
        (click)="onAnalyze()" 
        [disabled]="isLoading || !inputCode.trim()"
        class="btn btn-primary">
        {{ isLoading ? 'â³ Analizando...' : 'ğŸš€ Calcular Eficiencia' }}
      </button>
    </div>
  </div>

  <!-- SecciÃ³n de Resultados (Aparece solo si hay resultado) -->
  <div *ngIf="result" class="section" style="margin-top: 40px;">
    <h2 style="text-align: center; border-bottom: 2px solid #007bff; padding-bottom: 15px;">
      ğŸ“Š Resultados del AnÃ¡lisis
    </h2>

    <!-- Tarjetas de Complejidad -->
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin: 30px 0;">
      
      <!-- Peor Caso -->
      <div style="background: #fff3cd; padding: 20px; border-radius: 10px; border-left: 4px solid #ffc107; text-align: center;">
        <h3 style="color: #856404; margin: 0 0 10px 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px;">
          Peor Caso (O)
        </h3>
        <div style="font-size: 2.5em; font-weight: bold; color: #333; margin: 15px 0;">
          {{ result.big_o }}
        </div>
        <p style="color: #856404; margin: 0; font-size: 0.85em;">Upper Bound</p>
      </div>

      <!-- Caso Promedio -->
      <div style="background: #cfe2ff; padding: 20px; border-radius: 10px; border-left: 4px solid #0d6efd; text-align: center; transform: scale(1.05);">
        <h3 style="color: #084298; margin: 0 0 10px 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px;">
          Caso Promedio (Î˜)
        </h3>
        <div style="font-size: 2.5em; font-weight: bold; color: #333; margin: 15px 0;">
          {{ result.theta || '?' }}
        </div>
        <p style="color: #084298; margin: 0; font-size: 0.85em;">Tight Bound</p>
      </div>

      <!-- Mejor Caso -->
      <div style="background: #d1e7dd; padding: 20px; border-radius: 10px; border-left: 4px solid #198754; text-align: center;">
        <h3 style="color: #0f5132; margin: 0 0 10px 0; font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px;">
          Mejor Caso (Î©)
        </h3>
        <div style="font-size: 2.5em; font-weight: bold; color: #333; margin: 15px 0;">
          {{ result.big_omega || '?' }}
        </div>
        <p style="color: #0f5132; margin: 0; font-size: 0.85em;">Lower Bound</p>
      </div>

    </div>

    <!-- IR (RepresentaciÃ³n Interna) -->
    <div *ngIf="result.ir" style="background: #f0f0f0; padding: 20px; border-radius: 10px; margin: 20px 0; border-left: 4px solid #6c757d;">
      <h3 style="margin-top: 0; color: #495057;">ğŸ“‹ RepresentaciÃ³n Interna (IR)</h3>
      <pre style="background: #fff; padding: 15px; border-radius: 5px; overflow-x: auto; color: #333; font-family: 'Courier New', monospace; font-size: 0.9em;">{{ result.ir | json }}</pre>
    </div>

    <!-- Notas -->
    <div *ngIf="result.notes" style="background: #e7f3ff; padding: 20px; border-radius: 10px; border-left: 4px solid #007bff;">
      <h3 style="margin-top: 0; color: #004085;">ğŸ“Œ Notas</h3>
      <p style="color: #004085; margin: 0;">{{ result.notes }}</p>
    </div>
  </div>

</div>